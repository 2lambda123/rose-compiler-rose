include_rules

inputs = \
       TestAddExpr.h \
       TestBinExpr.h \
       TestExpr.h \
       TestInsn.h \
       TestInt.h \
       TestType.h

outputs = \
	generated/BasicTypes.h \
	generated/TestAddExpr.h \
	generated/TestAddExpr.C \
	generated/TestBinExpr.h \
	generated/TestBinExpr.C \
	generated/TestExpr.h \
	generated/TestExpr.C \
	generated/TestInsn.h \
	generated/TestInsn.C \
	generated/TestInt.h \
	generated/TestInt.C \
	generated/TestType.h \
	generated/TestType.C

: ../../rosebud \
  |> LD_LIBRARY_PATH=$(ROSE)/src/Rosebud:$(ROSE)/src/util/Sawyer ../../rosebud --backend=rose --no-locations --rose-generated=generated $(inputs) \
  |> $(outputs) <rosbud_example_1>

run $(tool_compile_linkexe) -I. test-1.C $(outputs)
run $(test) test-1
